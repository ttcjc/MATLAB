clear variables;
close all;
clc;

%%

massAnton = [
        0.00115621040924200;
        0.00103237999567144;
        0.000681911418582890;
        0.000343865838495462;
        0.000151587903782468;
        6.70650026166594e-5;
        2.83898865377220e-5;
        1.12825220959864e-5;
        5.31074094589388e-6;
        1.99628202978319e-6;
       ];

massAntonTotal = sum(massAnton) * 1000;


%%

massPerSecond = massAnton * (2 / massAntonTotal)

massPerSecondTotal = sum(massPerSecond) * 1000


%%

duration = 4;

massTotal = massPerSecond * duration

massTotalTotal = sum(massTotal) * 1000


%%

parcelsAnton = [
                8306109;
                7416523;
                4898789;
                2470301;
                1088994;
                481789;
                203950;
                81053;
                38152;
                14341;
          ];

parcelsPerSecond = round((massPerSecond / max(massPerSecond)) * (25e6 / sum((massPerSecond / max(massPerSecond)))))


%%

distribution = [
                1.00000000000000e-06, 0.0149970000000000; 
                2.00000000000000e-06, 0.0891590000000000; 
                3.00000000000000e-06, 0.126500000000000; 
                4.00000000000000e-06, 0.151080000000000; 
                5.00000000000000e-06, 0.189540000000000; 
                6.00000000000000e-06, 0.247590000000000; 
                7.00000000000000e-06, 0.337280000000000; 
                8.00000000000000e-06, 0.428890000000000; 
                9.00000000000000e-06, 0.519170000000000; 
                1.00000000000000e-05, 0.635110000000000; 
                1.10000000000000e-05, 0.780140000000000; 
                1.20000000000000e-05, 0.965620000000000; 
                1.30000000000000e-05, 1.11060000000000; 
                1.40000000000000e-05, 1.34060000000000; 
                1.50000000000000e-05, 1.64430000000000; 
                1.60000000000000e-05, 1.93400000000000; 
                1.70000000000000e-05, 2.22190000000000; 
                1.80000000000000e-05, 2.46540000000000; 
                1.90000000000000e-05, 2.70040000000000; 
                2.00000000000000e-05, 2.95640000000000; 
                2.10000000000000e-05, 3.16950000000000; 
                2.20000000000000e-05, 3.32870000000000; 
                2.30000000000000e-05, 3.47300000000000; 
                2.40000000000000e-05, 3.55750000000000; 
                2.50000000000000e-05, 3.64290000000000; 
                2.60000000000000e-05, 3.61130000000000; 
                2.70000000000000e-05, 3.66570000000000; 
                2.80000000000000e-05, 3.58620000000000; 
                2.90000000000000e-05, 3.53830000000000; 
                3.00000000000000e-05, 3.46880000000000; 
                3.10000000000000e-05, 3.30830000000000; 
                3.20000000000000e-05, 3.15030000000000; 
                3.30000000000000e-05, 3.06180000000000; 
                3.40000000000000e-05, 2.82940000000000; 
                3.50000000000000e-05, 2.64090000000000; 
                3.60000000000000e-05, 2.54290000000000; 
                3.70000000000000e-05, 2.35350000000000; 
                3.80000000000000e-05, 2.22160000000000; 
                3.90000000000000e-05, 1.98330000000000; 
                4.00000000000000e-05, 1.75680000000000; 
                4.10000000000000e-05, 1.69440000000000; 
                4.20000000000000e-05, 1.56590000000000; 
                4.30000000000000e-05, 1.36900000000000; 
                4.40000000000000e-05, 1.29150000000000; 
                4.50000000000000e-05, 1.18900000000000; 
                4.60000000000000e-05, 1.06360000000000; 
                4.70000000000000e-05, 0.979950000000000; 
                4.80000000000000e-05, 0.857380000000000; 
                4.90000000000000e-05, 0.760150000000000; 
                5.00000000000000e-05, 0.738730000000000; 
                5.10000000000000e-05, 0.635400000000000; 
                5.20000000000000e-05, 0.598460000000000; 
                5.30000000000000e-05, 0.514910000000000; 
                5.40000000000000e-05, 0.484960000000000; 
                5.50000000000000e-05, 0.422770000000000; 
                5.60000000000000e-05, 0.382970000000000; 
                5.70000000000000e-05, 0.363360000000000; 
                5.80000000000000e-05, 0.289910000000000; 
                5.90000000000000e-05, 0.279330000000000; 
                6.00000000000000e-05, 0.257630000000000; 
                6.10000000000000e-05, 0.244720000000000; 
                6.20000000000000e-05, 0.216660000000000; 
                6.30000000000000e-05, 0.191790000000000; 
                6.40000000000000e-05, 0.153760000000000; 
                6.50000000000000e-05, 0.158740000000000; 
                6.60000000000000e-05, 0.113990000000000; 
                6.70000000000000e-05, 0.123040000000000; 
                6.80000000000000e-05, 0.115200000000000; 
                6.90000000000000e-05, 0.0977800000000000; 
                7.00000000000000e-05, 0.0896930000000000; 
                7.10000000000000e-05, 0.0710330000000000; 
                7.20000000000000e-05, 0.0734820000000000; 
                7.30000000000000e-05, 0.0679940000000000; 
                7.40000000000000e-05, 0.0605450000000000; 
                7.50000000000000e-05, 0.0701040000000000; 
                7.60000000000000e-05, 0.0518000000000000; 
                7.70000000000000e-05, 0.0416120000000000; 
                7.80000000000000e-05, 0.0373380000000000; 
                7.90000000000000e-05, 0.0587690000000000; 
                8.00000000000000e-05, 0.0320530000000000; 
                8.10000000000000e-05, 0.0283280000000000; 
                8.20000000000000e-05, 0.0388570000000000; 
                8.30000000000000e-05, 0.0232390000000000; 
                8.40000000000000e-05, 0.0249420000000000; 
                8.50000000000000e-05, 0.0333960000000000; 
                8.60000000000000e-05, 0.0334930000000000; 
                8.70000000000000e-05, 0.0123260000000000; 
                8.80000000000000e-05, 0.0175000000000000; 
                8.90000000000000e-05, 0.0125500000000000; 
                9.00000000000000e-05, 0.0123010000000000; 
                9.10000000000000e-05, 0.0147980000000000; 
                9.20000000000000e-05, 0.0115770000000000; 
                9.30000000000000e-05, 0.0113450000000000; 
                9.40000000000000e-05, 0.00683750000000000; 
                9.50000000000000e-05, 0.0101110000000000; 
                9.60000000000000e-05, 0.0101200000000000; 
                9.70000000000000e-05, 0.00945230000000000; 
                9.80000000000000e-05, 0.0111940000000000; 
                9.90000000000000e-05, 0.0121640000000000; 
                0.000100000000000000, 0.00929430000000000; 
                0.000101000000000000, 0.00715840000000000; 
                0.000102000000000000, 0.00345190000000000; 
                0.000103000000000000, 0.00797890000000000; 
                0.000104000000000000, 0.0135920000000000; 
                0.000105000000000000, 0.0104760000000000; 
                0.000106000000000000, 0.00713790000000000; 
                0.000107000000000000, 0.00275210000000000; 
                0.000108000000000000, 0.00173120000000000; 
                0.000109000000000000, 0.00179670000000000; 
                0.000110000000000000, 0.00485080000000000; 
                0.000112000000000000, 0.00151310000000000; 
                0.000113000000000000, 0.00553590000000000; 
                0.000114000000000000, 0.00289340000000000; 
                0.000117000000000000, 0.00256310000000000; 
                0.000118000000000000, 0.00444890000000000; 
                0.000119000000000000, 0.00321030000000000; 
                0.000121000000000000, 0.00107760000000000; 
                0.000125000000000000, 0.00132600000000000; 
                0.000127000000000000, 0.00135770000000000; 
                0.000129000000000000, 0.00412870000000000; 
                0.000132000000000000, 0.00168620000000000; 
                0.000133000000000000, 0.00215760000000000; 
                0.000134000000000000, 0.000221700000000000; 
                0.000135000000000000, 0.000194120000000000; 
                0.000136000000000000, 0.000242690000000000; 
                0.000137000000000000, 0.000216280000000000; 
                0.000139000000000000, 0.000479630000000000; 
                0.000140000000000000, 0.000674130000000000; 
                0.000141000000000000, 0.000182020000000000; 
                0.000142000000000000, 0.000830250000000000; 
                0.000143000000000000, 0.000149100000000000; 
                0.000144000000000000, 0.000765030000000000; 
                0.000146000000000000, 0.000169480000000000; 
                0.000147000000000000, 0.000375490000000000
               ];

distribution(:,2) = distribution(:,2) * (100 / sum(distribution(:,2)))

fileID = fopen('~/MATLAB/Output/Files/Anton_Developed_Distribution', 'w');
formatSpec = '                        (%e    %e)\n';

for i = 1:height(distribution)
    fprintf(fileID, formatSpec, distribution(i,1), distribution(i,2));
end

fclose(fileID);